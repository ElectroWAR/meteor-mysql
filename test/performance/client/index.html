<head>
  <title>performance</title>
</head>

<body>
  {{> hello}}
</body>

<template name="hello">
  <h1>numtel:mysql Performance Testing</h1>
  <label>
    Number to insert:
    <input type="number" value="100" step="100" min="1" max="100000" id="insCount">
  </label><br>
  <button id="insertRowsPoll">Insert Rows (Poll)</button>
  <button id="clearTablePoll">Clear Table (Poll)</button><br>
  <button id="insertRowsUdf">Insert Rows (Udf)</button>
  <button id="clearTableUdf">Clear Table (Udf)</button><br>
  <button id="insertDocs">Insert Documents</button>
  <button id="insertDocsDirect">Insert Documents using Mongo-Direct</button>
  <button id="clearCollection">Clear Collection</button>
  <p>The Poll result set contains {{counterPoll}} rows.</p>
  <p>The UDF result set contains {{counterUdf}} rows.</p>
  <p>The Mongo collection contains {{collectionCounter}} documents.</p>
  <ul class="results">
    {{#each results}}
      <li>
        <h2>{{ type }} Result #{{ index }}</h2>
        <dl>
          <dt>Duration</dt>
          <dd>{{ time }} ms</dd>
          <dt>Server Duration</dt>
          <dd>{{ serverTime }} ms</dd>
          <dt># Rows Inserted</dt>
          <dd>{{ count }}</dd>
          <dt>Inserts/Second</dt>
          <dd>{{ rate }}</dd>
        </dl>
      </li>
    {{/each}}
  </ul>
  <div id="graph"></div>
</template>
